{"ast":null,"code":"import{useSelector}from'react-redux';import{selectCurrentToken}from\"../features/auth/authSlice\";import{jwtDecode}from\"jwt-decode\";var useAuth=function useAuth(){var token=useSelector(selectCurrentToken);var isManager=false;var isAdmin=false;var status=\"Employee\";if(token){var decoded=jwtDecode(token);var _decoded$UserInfo=decoded.UserInfo,username=_decoded$UserInfo.username,roles=_decoded$UserInfo.roles;isManager=roles.includes('Manager');isAdmin=roles.includes('Admin');if(isManager)status=\"Manager\";if(isAdmin)status=\"Admin\";return{username:username,roles:roles,status:status,isManager:isManager,isAdmin:isAdmin};}return{username:'',roles:[],isManager:isManager,isAdmin:isAdmin,status:status};};export default useAuth;","map":{"version":3,"names":["useSelector","selectCurrentToken","jwtDecode","useAuth","token","isManager","isAdmin","status","decoded","_decoded$UserInfo","UserInfo","username","roles","includes"],"sources":["C:/Users/yeldos.k/Desktop/final-map-app/client/client/src/hooks/useAuth.js"],"sourcesContent":["import { useSelector } from 'react-redux'\r\nimport { selectCurrentToken } from \"../features/auth/authSlice\"\r\nimport { jwtDecode } from \"jwt-decode\"\r\n\r\nconst useAuth = () => {\r\n    const token = useSelector(selectCurrentToken)\r\n    let isManager = false\r\n    let isAdmin = false\r\n    let status = \"Employee\"\r\n\r\n    if (token) {\r\n        const decoded = jwtDecode(token)\r\n        const { username, roles } = decoded.UserInfo\r\n\r\n        isManager = roles.includes('Manager')\r\n        isAdmin = roles.includes('Admin')\r\n\r\n        if (isManager) status = \"Manager\"\r\n        if (isAdmin) status = \"Admin\"\r\n\r\n        return { username, roles, status, isManager, isAdmin }\r\n    }\r\n\r\n    return { username: '', roles: [], isManager, isAdmin, status }\r\n}\r\n\r\nexport default useAuth\r\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,aAAa,CACzC,OAASC,kBAAkB,KAAQ,4BAA4B,CAC/D,OAASC,SAAS,KAAQ,YAAY,CAEtC,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAClB,GAAM,CAAAC,KAAK,CAAGJ,WAAW,CAACC,kBAAkB,CAAC,CAC7C,GAAI,CAAAI,SAAS,CAAG,KAAK,CACrB,GAAI,CAAAC,OAAO,CAAG,KAAK,CACnB,GAAI,CAAAC,MAAM,CAAG,UAAU,CAEvB,GAAIH,KAAK,CAAE,CACP,GAAM,CAAAI,OAAO,CAAGN,SAAS,CAACE,KAAK,CAAC,CAChC,IAAAK,iBAAA,CAA4BD,OAAO,CAACE,QAAQ,CAApCC,QAAQ,CAAAF,iBAAA,CAARE,QAAQ,CAAEC,KAAK,CAAAH,iBAAA,CAALG,KAAK,CAEvBP,SAAS,CAAGO,KAAK,CAACC,QAAQ,CAAC,SAAS,CAAC,CACrCP,OAAO,CAAGM,KAAK,CAACC,QAAQ,CAAC,OAAO,CAAC,CAEjC,GAAIR,SAAS,CAAEE,MAAM,CAAG,SAAS,CACjC,GAAID,OAAO,CAAEC,MAAM,CAAG,OAAO,CAE7B,MAAO,CAAEI,QAAQ,CAARA,QAAQ,CAAEC,KAAK,CAALA,KAAK,CAAEL,MAAM,CAANA,MAAM,CAAEF,SAAS,CAATA,SAAS,CAAEC,OAAO,CAAPA,OAAQ,CAAC,CAC1D,CAEA,MAAO,CAAEK,QAAQ,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEP,SAAS,CAATA,SAAS,CAAEC,OAAO,CAAPA,OAAO,CAAEC,MAAM,CAANA,MAAO,CAAC,CAClE,CAAC,CAED,cAAe,CAAAJ,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}